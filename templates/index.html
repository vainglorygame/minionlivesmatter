<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="assets/images/logo-blue.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    
    <title>Vainsocial Fun - Minion Lives Matter</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />
    
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/hipster_cards.css" rel="stylesheet"/> 
        
    <!--     Fonts and icons     -->
    <link href="assets/css/pe-icon-7-stroke.css" rel="stylesheet" />
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" />  
    <link href='http://fonts.googleapis.com/css?family=Playfair+Display|Raleway:700,100,400|Roboto:400,700|Playfair+Display+SC:400,700' rel='stylesheet' type='text/css'>
    
    <style>
        .card{
            margin-bottom: 70px;
        }
    </style>

</head>
<body>

<div class="wrapper">       
        <div class="container">
            <div class="card-box col-md-12 col-sm-12">
                <div class="card card-just-text card-with-border" data-background="image" data-src="assets/images/minion-top.jpg">
                    <div class="content">
                        <div class="filter filter-red"></div>
                        <h4 class="title title-modern">"Minions Lives Matter."</h4>
                        <p class="description">shutterfly@vainsocial</p>
                    </div>
                    
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>
        </div>
        

        <div class="masonry-container">
            
            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/minion-died.jpg">
                    <h4 class="title title-modern">Minions</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4 id="minions-killed-now">0</h4>
                        </div>
                        <p class="description">have died since you opened this page</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>


            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/turrets.png">
                    <h4 class="title title-modern">Turrets</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4>{{ sql_val("SELECT SUM(turret_kills) FROM participant WHERE created_at > NOW() - '1 day'::INTERVAL") }}<b class="currency"><br/></b></h4>
                        </div>
                        <p class="description">rebuilt by workers every day</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>

            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/minions-for-nothing.jpeg">
                    <h4 class="title title-modern">Minions</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4>{{ sql_val("SELECT SUM(minion_kills) FROM participant WHERE NOT winner AND created_at > NOW() - '1 day'::INTERVAL") }} <b class="currency"><br/>out of {{ sql_val("SELECT SUM(minion_kills) FROM participant WHERE created_at > NOW() - '1 day'::INTERVAL") }}<br/></b></h4>
                        </div>
                        <p class="description">died for nothing</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>

            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/fountain.jpeg">
                    <h4 class="title title-modern">Fountains</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4>{{ sql_val("SELECT COUNT((item_grants->>'*1045_Item_FountainOfRenewal*')::INT)-COUNT((item_uses->>'*1045_Item_FountainOfRenewal*')::INT) FROM participant WHERE created_at > NOW() - '1 day'::INTERVAL") }}</h4>
                        </div>
                        <p class="description">bought for the looks</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>

            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/CrystalMiner.jpg">
                    <h4 class="title title-modern">Crystal Sentries</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4>{{ sql_val("SELECT SUM(participant.crystal_mine_captures) FROM participant WHERE participant.created_at > NOW() - '1 day'::INTERVAL") }}</h4>
                        </div>
                        <p class="description">slaughtered</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>

            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/flares.jpg">
                    <h4 class="title title-modern">Flares</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4>{{ sql_val("SELECT SUM((participant.item_sells->>'*1038_Item_Flare*')::INT) FROM participant WHERE participant.created_at > NOW() - '1 day'::INTERVAL") }}</h4>
                        </div>
                        <p class="description">thrown in trash</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>

            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/kraken.jpg">
                    <h4 class="title title-modern">Minions</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4>{{ sql_val("SELECT (SUM(match.duration)/60*5) / SUM(roster.kraken_captures) FROM match JOIN roster ON roster.match_api_id=match.api_id WHERE match.created_at > NOW() - '1 day'::INTERVAL") }}</h4>
                        </div>
                        <p class="description">are needed to unleash a Kraken</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>

            <div class="card-box col-md-4 col-sm-6">
                <div class="card text-center" data-background="image" data-src="assets/images/minioncandy.jpg">
                    <h4 class="title title-modern">Minion Candies</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4>{{ sql_val("SELECT SUM((item_uses->>'*1041_Item_MinionCandy*')::INT) FROM participant WHERE created_at > NOW() - '1 day'::INTERVAL") }}</h4>
                        </div>
                        <p class="description">Minion parties</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>

            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/infusions.jpg">
                    <h4 class="title title-modern">Infusions</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6>every</h6>
                            <h4>{{ sql_val("SELECT SUM(match.duration)/60 / (SUM((participant.item_uses->>'*1052_Item_WeaponInfusion*')::INT) + SUM((participant.item_uses->>'*1053_Item_CrystalInfusion*')::INT)) FROM participant JOIN roster ON participant.roster_api_id=roster.api_id JOIN match ON roster.match_api_id=match.api_id WHERE participant.created_at > NOW() - '1 day'::INTERVAL") }}<b class="currency"><br/>minutes</b></h4>
                        </div>
                        <p class="description">a hero gets high</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>


            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/scout-traps.jpeg">
                    <h4 class="title title-modern">Scout Traps</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4>{{ sql_val("SELECT SUM((item_uses->>'*1054_Item_ScoutTrap*')::INT) FROM participant WHERE participant.created_at > NOW() - '1 day'::INTERVAL") }}<b class="currency"><br/></b></h4>
                        </div>
                        <p class="description">made the Fold a Dangerous Place</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>


            <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="assets/images/saw-turrets.jpeg">
                    <h4 class="title title-modern">Turrets</h4>
                    
                    <div class="content">
                        <div class="price">
                            <h6></h6>
                            <h4>{{ sql_val("SELECT SUM(turret_kills) FROM participant WHERE hero='*SAW*' AND created_at > NOW() - '1 day'::INTERVAL") }}<b class="currency"><br/></b></h4>
                        </div>
                        <p class="description">were pushed by SAW in the last 24h</p>      
                    </div> 
                    <div class="filter"></div>
                </div> <!-- end card -->    
            </div>

                        
            <div class="card-box col-md-4 col-sm-6">
                <div class="card text-center">
                    <h4 class="title title-modern">Data</h4>

                    <div class="content">
                        <p class="description">
                            Based on Vainsocial users' data from the past 24 hours that by no means is representative to the whole player base of Vainglory.
                        </p>
			<!-- {{ sql_val("SELECT COUNT(*) FROM match WHERE created_at > NOW() - '1 day'::INTERVAL") }} matches are taken into account for the calculations. -->
                    </div>
                    <div class="filter"></div>
                </div>
            </div>


<!--             <div class="card-box col-md-4 col-sm-6">      
                <div class="card text-center" data-background="image" data-src="">
                    <h4 class="title title-modern"></h4>
                    
                    <div class="content">
                         <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                        <ins class="adsbygoogle"
                             style="display:block"
                             data-ad-client="ca-pub-9871110491651790"
                             data-ad-slot="9492091157"
                             data-ad-format="auto"></ins>
                        <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>

                    <div class="filter"></div>
                </div> 
            </div>
 -->
        </div>
        
    </div> 
</div> <!-- end wrapper -->

</body>

    <script src="assets/js/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="assets/js/hipster-cards.js"></script>
    

    <script type="text/javascript">
        var minions_per_second = {{ sql_val("SELECT SUM(minion_kills)/(24*60*60)::FLOAT FROM participant WHERE participant.created_at > NOW() - '1 day'::INTERVAL") }};
        var minions = 0;
        // sum(minions killed) / (seconds per day)
        setInterval(() => {
            minions += minions_per_second;
            $("#minions-killed-now").text(Math.floor(minions));
        }, 1000);
    </script>

    <!--  Just for demo  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.1/masonry.pkgd.min.js"></script>
    
    <script>
        
        $().ready(function(){
            
            var $container = $('.masonry-container');

            doc_width = $(document).width();
            
            if (doc_width >= 768){
                $container.masonry({
                    itemSelector        : '.card-box',
                    columnWidth         : '.card-box',
                    transitionDuration  : 0
                });   
            } else {
                $('.mas-container').removeClass('mas-container').addClass('row');
            }            
        });
    </script>
    
</html>
